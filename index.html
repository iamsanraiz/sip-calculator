<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Universal File Converter - Professional Conversion Toolkit</title>
    <style>
        :root {
  /* Primitive Color Tokens */
  --color-white: rgba(255, 255, 255, 1);
  --color-black: rgba(0, 0, 0, 1);
  --color-cream-50: rgba(252, 252, 249, 1);
  --color-cream-100: rgba(255, 255, 253, 1);
  --color-gray-200: rgba(245, 245, 245, 1);
  --color-gray-300: rgba(167, 169, 169, 1);
  --color-gray-400: rgba(119, 124, 124, 1);
  --color-slate-500: rgba(98, 108, 113, 1);
  --color-brown-600: rgba(94, 82, 64, 1);
  --color-charcoal-700: rgba(31, 33, 33, 1);
  --color-charcoal-800: rgba(38, 40, 40, 1);
  --color-slate-900: rgba(19, 52, 59, 1);
  --color-teal-300: rgba(50, 184, 198, 1);
  --color-teal-400: rgba(45, 166, 178, 1);
  --color-teal-500: rgba(33, 128, 141, 1);
  --color-teal-600: rgba(29, 116, 128, 1);
  --color-teal-700: rgba(26, 104, 115, 1);
  --color-teal-800: rgba(41, 150, 161, 1);
  --color-red-400: rgba(255, 84, 89, 1);
  --color-red-500: rgba(192, 21, 47, 1);
  --color-orange-400: rgba(230, 129, 97, 1);
  --color-orange-500: rgba(168, 75, 47, 1);

  /* RGB versions for opacity control */
  --color-brown-600-rgb: 94, 82, 64;
  --color-teal-500-rgb: 33, 128, 141;
  --color-slate-900-rgb: 19, 52, 59;
  --color-slate-500-rgb: 98, 108, 113;
  --color-red-500-rgb: 192, 21, 47;
  --color-red-400-rgb: 255, 84, 89;
  --color-orange-500-rgb: 168, 75, 47;
  --color-orange-400-rgb: 230, 129, 97;

  /* Background color tokens (Light Mode) */
  --color-bg-1: rgba(59, 130, 246, 0.08); /* Light blue */
  --color-bg-2: rgba(245, 158, 11, 0.08); /* Light yellow */
  --color-bg-3: rgba(34, 197, 94, 0.08); /* Light green */
  --color-bg-4: rgba(239, 68, 68, 0.08); /* Light red */
  --color-bg-5: rgba(147, 51, 234, 0.08); /* Light purple */
  --color-bg-6: rgba(249, 115, 22, 0.08); /* Light orange */
  --color-bg-7: rgba(236, 72, 153, 0.08); /* Light pink */
  --color-bg-8: rgba(6, 182, 212, 0.08); /* Light cyan */

  /* Semantic Color Tokens (Light Mode) */
  --color-background: var(--color-cream-50);
  --color-surface: var(--color-cream-100);
  --color-text: var(--color-slate-900);
  --color-text-secondary: var(--color-slate-500);
  --color-primary: var(--color-teal-500);
  --color-primary-hover: var(--color-teal-600);
  --color-primary-active: var(--color-teal-700);
  --color-secondary: rgba(var(--color-brown-600-rgb), 0.12);
  --color-secondary-hover: rgba(var(--color-brown-600-rgb), 0.2);
  --color-secondary-active: rgba(var(--color-brown-600-rgb), 0.25);
  --color-border: rgba(var(--color-brown-600-rgb), 0.2);
  --color-btn-primary-text: var(--color-cream-50);
  --color-card-border: rgba(var(--color-brown-600-rgb), 0.12);
  --color-card-border-inner: rgba(var(--color-brown-600-rgb), 0.12);
  --color-error: var(--color-red-500);
  --color-success: var(--color-teal-500);
  --color-warning: var(--color-orange-500);
  --color-info: var(--color-slate-500);
  --color-focus-ring: rgba(var(--color-teal-500-rgb), 0.4);
  --color-select-caret: rgba(var(--color-slate-900-rgb), 0.8);

  /* Common style patterns */
  --focus-ring: 0 0 0 3px var(--color-focus-ring);
  --focus-outline: 2px solid var(--color-primary);
  --status-bg-opacity: 0.15;
  --status-border-opacity: 0.25;
  --select-caret-light: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23134252' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
  --select-caret-dark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23f5f5f5' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");

  /* RGB versions for opacity control */
  --color-success-rgb: 33, 128, 141;
  --color-error-rgb: 192, 21, 47;
  --color-warning-rgb: 168, 75, 47;
  --color-info-rgb: 98, 108, 113;

  /* Typography */
  --font-family-base: "FKGroteskNeue", "Geist", "Inter", -apple-system,
    BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  --font-family-mono: "Berkeley Mono", ui-monospace, SFMono-Regular, Menlo,
    Monaco, Consolas, monospace;
  --font-size-xs: 11px;
  --font-size-sm: 12px;
  --font-size-base: 14px;
  --font-size-md: 14px;
  --font-size-lg: 16px;
  --font-size-xl: 18px;
  --font-size-2xl: 20px;
  --font-size-3xl: 24px;
  --font-size-4xl: 30px;
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 550;
  --font-weight-bold: 600;
  --line-height-tight: 1.2;
  --line-height-normal: 1.5;
  --letter-spacing-tight: -0.01em;

  /* Spacing */
  --space-0: 0;
  --space-1: 1px;
  --space-2: 2px;
  --space-4: 4px;
  --space-6: 6px;
  --space-8: 8px;
  --space-10: 10px;
  --space-12: 12px;
  --space-16: 16px;
  --space-20: 20px;
  --space-24: 24px;
  --space-32: 32px;

  /* Border Radius */
  --radius-sm: 6px;
  --radius-base: 8px;
  --radius-md: 10px;
  --radius-lg: 12px;
  --radius-full: 9999px;

  /* Shadows */
  --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.02);
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.04), 0 1px 2px rgba(0, 0, 0, 0.02);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.04),
    0 2px 4px -1px rgba(0, 0, 0, 0.02);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.04),
    0 4px 6px -2px rgba(0, 0, 0, 0.02);
  --shadow-inset-sm: inset 0 1px 0 rgba(255, 255, 255, 0.15),
    inset 0 -1px 0 rgba(0, 0, 0, 0.03);

  /* Animation */
  --duration-fast: 150ms;
  --duration-normal: 250ms;
  --ease-standard: cubic-bezier(0.16, 1, 0.3, 1);

  /* Layout */
  --container-sm: 640px;
  --container-md: 768px;
  --container-lg: 1024px;
  --container-xl: 1280px;
}

/* Dark mode colors */
@media (prefers-color-scheme: dark) {
  :root {
    /* RGB versions for opacity control (Dark Mode) */
    --color-gray-400-rgb: 119, 124, 124;
    --color-teal-300-rgb: 50, 184, 198;
    --color-gray-300-rgb: 167, 169, 169;
    --color-gray-200-rgb: 245, 245, 245;

    /* Background color tokens (Dark Mode) */
    --color-bg-1: rgba(29, 78, 216, 0.15); /* Dark blue */
    --color-bg-2: rgba(180, 83, 9, 0.15); /* Dark yellow */
    --color-bg-3: rgba(21, 128, 61, 0.15); /* Dark green */
    --color-bg-4: rgba(185, 28, 28, 0.15); /* Dark red */
    --color-bg-5: rgba(107, 33, 168, 0.15); /* Dark purple */
    --color-bg-6: rgba(194, 65, 12, 0.15); /* Dark orange */
    --color-bg-7: rgba(190, 24, 93, 0.15); /* Dark pink */
    --color-bg-8: rgba(8, 145, 178, 0.15); /* Dark cyan */

    /* Semantic Color Tokens (Dark Mode) */
    --color-background: var(--color-charcoal-700);
    --color-surface: var(--color-charcoal-800);
    --color-text: var(--color-gray-200);
    --color-text-secondary: rgba(var(--color-gray-300-rgb), 0.7);
    --color-primary: var(--color-teal-300);
    --color-primary-hover: var(--color-teal-400);
    --color-primary-active: var(--color-teal-800);
    --color-secondary: rgba(var(--color-gray-400-rgb), 0.15);
    --color-secondary-hover: rgba(var(--color-gray-400-rgb), 0.25);
    --color-secondary-active: rgba(var(--color-gray-400-rgb), 0.3);
    --color-border: rgba(var(--color-gray-400-rgb), 0.3);
    --color-error: var(--color-red-400);
    --color-success: var(--color-teal-300);
    --color-warning: var(--color-orange-400);
    --color-info: var(--color-gray-300);
    --color-focus-ring: rgba(var(--color-teal-300-rgb), 0.4);
    --color-btn-primary-text: var(--color-slate-900);
    --color-card-border: rgba(var(--color-gray-400-rgb), 0.2);
    --color-card-border-inner: rgba(var(--color-gray-400-rgb), 0.15);
    --shadow-inset-sm: inset 0 1px 0 rgba(255, 255, 255, 0.1),
      inset 0 -1px 0 rgba(0, 0, 0, 0.15);
    --button-border-secondary: rgba(var(--color-gray-400-rgb), 0.2);
    --color-border-secondary: rgba(var(--color-gray-400-rgb), 0.2);
    --color-select-caret: rgba(var(--color-gray-200-rgb), 0.8);

    /* Common style patterns - updated for dark mode */
    --focus-ring: 0 0 0 3px var(--color-focus-ring);
    --focus-outline: 2px solid var(--color-primary);
    --status-bg-opacity: 0.15;
    --status-border-opacity: 0.25;
    --select-caret-light: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23134252' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
    --select-caret-dark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23f5f5f5' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");

    /* RGB versions for dark mode */
    --color-success-rgb: var(--color-teal-300-rgb);
    --color-error-rgb: var(--color-red-400-rgb);
    --color-warning-rgb: var(--color-orange-400-rgb);
    --color-info-rgb: var(--color-gray-300-rgb);
  }
}

/* Data attribute for manual theme switching */
[data-color-scheme="dark"] {
  /* RGB versions for opacity control (dark mode) */
  --color-gray-400-rgb: 119, 124, 124;
  --color-teal-300-rgb: 50, 184, 198;
  --color-gray-300-rgb: 167, 169, 169;
  --color-gray-200-rgb: 245, 245, 245;

  /* Colorful background palette - Dark Mode */
  --color-bg-1: rgba(29, 78, 216, 0.15); /* Dark blue */
  --color-bg-2: rgba(180, 83, 9, 0.15); /* Dark yellow */
  --color-bg-3: rgba(21, 128, 61, 0.15); /* Dark green */
  --color-bg-4: rgba(185, 28, 28, 0.15); /* Dark red */
  --color-bg-5: rgba(107, 33, 168, 0.15); /* Dark purple */
  --color-bg-6: rgba(194, 65, 12, 0.15); /* Dark orange */
  --color-bg-7: rgba(190, 24, 93, 0.15); /* Dark pink */
  --color-bg-8: rgba(8, 145, 178, 0.15); /* Dark cyan */

  /* Semantic Color Tokens (Dark Mode) */
  --color-background: var(--color-charcoal-700);
  --color-surface: var(--color-charcoal-800);
  --color-text: var(--color-gray-200);
  --color-text-secondary: rgba(var(--color-gray-300-rgb), 0.7);
  --color-primary: var(--color-teal-300);
  --color-primary-hover: var(--color-teal-400);
  --color-primary-active: var(--color-teal-800);
  --color-secondary: rgba(var(--color-gray-400-rgb), 0.15);
  --color-secondary-hover: rgba(var(--color-gray-400-rgb), 0.25);
  --color-secondary-active: rgba(var(--color-gray-400-rgb), 0.3);
  --color-border: rgba(var(--color-gray-400-rgb), 0.3);
  --color-error: var(--color-red-400);
  --color-success: var(--color-teal-300);
  --color-warning: var(--color-orange-400);
  --color-info: var(--color-gray-300);
  --color-focus-ring: rgba(var(--color-teal-300-rgb), 0.4);
  --color-btn-primary-text: var(--color-slate-900);
  --color-card-border: rgba(var(--color-gray-400-rgb), 0.15);
  --color-card-border-inner: rgba(var(--color-gray-400-rgb), 0.15);
  --shadow-inset-sm: inset 0 1px 0 rgba(255, 255, 255, 0.1),
    inset 0 -1px 0 rgba(0, 0, 0, 0.15);
  --color-border-secondary: rgba(var(--color-gray-400-rgb), 0.2);
  --color-select-caret: rgba(var(--color-gray-200-rgb), 0.8);

  /* Common style patterns - updated for dark mode */
  --focus-ring: 0 0 0 3px var(--color-focus-ring);
  --focus-outline: 2px solid var(--color-primary);
  --status-bg-opacity: 0.15;
  --status-border-opacity: 0.25;
  --select-caret-light: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23134252' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
  --select-caret-dark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23f5f5f5' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");

  /* RGB versions for dark mode */
  --color-success-rgb: var(--color-teal-300-rgb);
  --color-error-rgb: var(--color-red-400-rgb);
  --color-warning-rgb: var(--color-orange-400-rgb);
  --color-info-rgb: var(--color-gray-300-rgb);
}

[data-color-scheme="light"] {
  /* RGB versions for opacity control (light mode) */
  --color-brown-600-rgb: 94, 82, 64;
  --color-teal-500-rgb: 33, 128, 141;
  --color-slate-900-rgb: 19, 52, 59;

  /* Semantic Color Tokens (Light Mode) */
  --color-background: var(--color-cream-50);
  --color-surface: var(--color-cream-100);
  --color-text: var(--color-slate-900);
  --color-text-secondary: var(--color-slate-500);
  --color-primary: var(--color-teal-500);
  --color-primary-hover: var(--color-teal-600);
  --color-primary-active: var(--color-teal-700);
  --color-secondary: rgba(var(--color-brown-600-rgb), 0.12);
  --color-secondary-hover: rgba(var(--color-brown-600-rgb), 0.2);
  --color-secondary-active: rgba(var(--color-brown-600-rgb), 0.25);
  --color-border: rgba(var(--color-brown-600-rgb), 0.2);
  --color-btn-primary-text: var(--color-cream-50);
  --color-card-border: rgba(var(--color-brown-600-rgb), 0.12);
  --color-card-border-inner: rgba(var(--color-brown-600-rgb), 0.12);
  --color-error: var(--color-red-500);
  --color-success: var(--color-teal-500);
  --color-warning: var(--color-orange-500);
  --color-info: var(--color-slate-500);
  --color-focus-ring: rgba(var(--color-teal-500-rgb), 0.4);

  /* RGB versions for light mode */
  --color-success-rgb: var(--color-teal-500-rgb);
  --color-error-rgb: var(--color-red-500-rgb);
  --color-warning-rgb: var(--color-orange-500-rgb);
  --color-info-rgb: var(--color-slate-500-rgb);
}

/* Base styles */
html {
  font-size: var(--font-size-base);
  font-family: var(--font-family-base);
  line-height: var(--line-height-normal);
  color: var(--color-text);
  background-color: var(--color-background);
  -webkit-font-smoothing: antialiased;
  box-sizing: border-box;
}

body {
  margin: 0;
  padding: 0;
}

*,
*::before,
*::after {
  box-sizing: inherit;
}

/* Typography */
h1,
h2,
h3,
h4,
h5,
h6 {
  margin: 0;
  font-weight: var(--font-weight-semibold);
  line-height: var(--line-height-tight);
  color: var(--color-text);
  letter-spacing: var(--letter-spacing-tight);
}

h1 {
  font-size: var(--font-size-4xl);
}
h2 {
  font-size: var(--font-size-3xl);
}
h3 {
  font-size: var(--font-size-2xl);
}
h4 {
  font-size: var(--font-size-xl);
}
h5 {
  font-size: var(--font-size-lg);
}
h6 {
  font-size: var(--font-size-md);
}

p {
  margin: 0 0 var(--space-16) 0;
}

a {
  color: var(--color-primary);
  text-decoration: none;
  transition: color var(--duration-fast) var(--ease-standard);
}

a:hover {
  color: var(--color-primary-hover);
}

code,
pre {
  font-family: var(--font-family-mono);
  font-size: calc(var(--font-size-base) * 0.95);
  background-color: var(--color-secondary);
  border-radius: var(--radius-sm);
}

code {
  padding: var(--space-1) var(--space-4);
}

pre {
  padding: var(--space-16);
  margin: var(--space-16) 0;
  overflow: auto;
  border: 1px solid var(--color-border);
}

pre code {
  background: none;
  padding: 0;
}

/* Buttons */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-8) var(--space-16);
  border-radius: var(--radius-base);
  font-size: var(--font-size-base);
  font-weight: 500;
  line-height: 1.5;
  cursor: pointer;
  transition: all var(--duration-normal) var(--ease-standard);
  border: none;
  text-decoration: none;
  position: relative;
}

.btn:focus-visible {
  outline: none;
  box-shadow: var(--focus-ring);
}

.btn--primary {
  background: var(--color-primary);
  color: var(--color-btn-primary-text);
}

.btn--primary:hover {
  background: var(--color-primary-hover);
}

.btn--primary:active {
  background: var(--color-primary-active);
}

.btn--secondary {
  background: var(--color-secondary);
  color: var(--color-text);
}

.btn--secondary:hover {
  background: var(--color-secondary-hover);
}

.btn--secondary:active {
  background: var(--color-secondary-active);
}

.btn--outline {
  background: transparent;
  border: 1px solid var(--color-border);
  color: var(--color-text);
}

.btn--outline:hover {
  background: var(--color-secondary);
}

.btn--sm {
  padding: var(--space-4) var(--space-12);
  font-size: var(--font-size-sm);
  border-radius: var(--radius-sm);
}

.btn--lg {
  padding: var(--space-10) var(--space-20);
  font-size: var(--font-size-lg);
  border-radius: var(--radius-md);
}

.btn--full-width {
  width: 100%;
}

.btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Form elements */
.form-control {
  display: block;
  width: 100%;
  padding: var(--space-8) var(--space-12);
  font-size: var(--font-size-md);
  line-height: 1.5;
  color: var(--color-text);
  background-color: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-base);
  transition: border-color var(--duration-fast) var(--ease-standard),
    box-shadow var(--duration-fast) var(--ease-standard);
}

textarea.form-control {
  font-family: var(--font-family-base);
  font-size: var(--font-size-base);
}

select.form-control {
  padding: var(--space-8) var(--space-12);
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  background-image: var(--select-caret-light);
  background-repeat: no-repeat;
  background-position: right var(--space-12) center;
  background-size: 16px;
  padding-right: var(--space-32);
}

/* Add a dark mode specific caret */
@media (prefers-color-scheme: dark) {
  select.form-control {
    background-image: var(--select-caret-dark);
  }
}

/* Also handle data-color-scheme */
[data-color-scheme="dark"] select.form-control {
  background-image: var(--select-caret-dark);
}

[data-color-scheme="light"] select.form-control {
  background-image: var(--select-caret-light);
}

.form-control:focus {
  border-color: var(--color-primary);
  outline: var(--focus-outline);
}

.form-label {
  display: block;
  margin-bottom: var(--space-8);
  font-weight: var(--font-weight-medium);
  font-size: var(--font-size-sm);
}

.form-group {
  margin-bottom: var(--space-16);
}

/* Card component */
.card {
  background-color: var(--color-surface);
  border-radius: var(--radius-lg);
  border: 1px solid var(--color-card-border);
  box-shadow: var(--shadow-sm);
  overflow: hidden;
  transition: box-shadow var(--duration-normal) var(--ease-standard);
}

.card:hover {
  box-shadow: var(--shadow-md);
}

.card__body {
  padding: var(--space-16);
}

.card__header,
.card__footer {
  padding: var(--space-16);
  border-bottom: 1px solid var(--color-card-border-inner);
}

/* Status indicators - simplified with CSS variables */
.status {
  display: inline-flex;
  align-items: center;
  padding: var(--space-6) var(--space-12);
  border-radius: var(--radius-full);
  font-weight: var(--font-weight-medium);
  font-size: var(--font-size-sm);
}

.status--success {
  background-color: rgba(
    var(--color-success-rgb, 33, 128, 141),
    var(--status-bg-opacity)
  );
  color: var(--color-success);
  border: 1px solid
    rgba(var(--color-success-rgb, 33, 128, 141), var(--status-border-opacity));
}

.status--error {
  background-color: rgba(
    var(--color-error-rgb, 192, 21, 47),
    var(--status-bg-opacity)
  );
  color: var(--color-error);
  border: 1px solid
    rgba(var(--color-error-rgb, 192, 21, 47), var(--status-border-opacity));
}

.status--warning {
  background-color: rgba(
    var(--color-warning-rgb, 168, 75, 47),
    var(--status-bg-opacity)
  );
  color: var(--color-warning);
  border: 1px solid
    rgba(var(--color-warning-rgb, 168, 75, 47), var(--status-border-opacity));
}

.status--info {
  background-color: rgba(
    var(--color-info-rgb, 98, 108, 113),
    var(--status-bg-opacity)
  );
  color: var(--color-info);
  border: 1px solid
    rgba(var(--color-info-rgb, 98, 108, 113), var(--status-border-opacity));
}

/* Container layout */
.container {
  width: 100%;
  margin-right: auto;
  margin-left: auto;
  padding-right: var(--space-16);
  padding-left: var(--space-16);
}

@media (min-width: 640px) {
  .container {
    max-width: var(--container-sm);
  }
}
@media (min-width: 768px) {
  .container {
    max-width: var(--container-md);
  }
}
@media (min-width: 1024px) {
  .container {
    max-width: var(--container-lg);
  }
}
@media (min-width: 1280px) {
  .container {
    max-width: var(--container-xl);
  }
}

/* Utility classes */
.flex {
  display: flex;
}
.flex-col {
  flex-direction: column;
}
.items-center {
  align-items: center;
}
.justify-center {
  justify-content: center;
}
.justify-between {
  justify-content: space-between;
}
.gap-4 {
  gap: var(--space-4);
}
.gap-8 {
  gap: var(--space-8);
}
.gap-16 {
  gap: var(--space-16);
}

.m-0 {
  margin: 0;
}
.mt-8 {
  margin-top: var(--space-8);
}
.mb-8 {
  margin-bottom: var(--space-8);
}
.mx-8 {
  margin-left: var(--space-8);
  margin-right: var(--space-8);
}
.my-8 {
  margin-top: var(--space-8);
  margin-bottom: var(--space-8);
}

.p-0 {
  padding: 0;
}
.py-8 {
  padding-top: var(--space-8);
  padding-bottom: var(--space-8);
}
.px-8 {
  padding-left: var(--space-8);
  padding-right: var(--space-8);
}
.py-16 {
  padding-top: var(--space-16);
  padding-bottom: var(--space-16);
}
.px-16 {
  padding-left: var(--space-16);
  padding-right: var(--space-16);
}

.block {
  display: block;
}
.hidden {
  display: none;
}

/* Accessibility */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

:focus-visible {
  outline: var(--focus-outline);
  outline-offset: 2px;
}

/* Dark mode specifics */
[data-color-scheme="dark"] .btn--outline {
  border: 1px solid var(--color-border-secondary);
}

@font-face {
  font-family: 'FKGroteskNeue';
  src: url('https://r2cdn.perplexity.ai/fonts/FKGroteskNeue.woff2')
    format('woff2');
}

/* END PERPLEXITY DESIGN SYSTEM */
/* Header */
.header {
  background: var(--color-bg-1);
  border-bottom: 1px solid var(--color-border);
  padding: var(--space-32) 0;
  text-align: center;
}

.header h1 {
  font-size: var(--font-size-4xl);
  margin-bottom: var(--space-8);
  color: var(--color-text);
}

.header p {
  color: var(--color-text-secondary);
  font-size: var(--font-size-lg);
  margin: 0;
  max-width: 600px;
  margin: 0 auto;
}

/* Main content */
.main {
  padding: var(--space-32) 0;
  min-height: calc(100vh - 200px);
}

/* Tools grid */
.tools-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: var(--space-24);
  margin-top: var(--space-24);
}

/* Tool cards */
.tool-card {
  background: var(--color-surface);
  border: 1px solid var(--color-card-border);
  border-radius: var(--radius-lg);
  padding: var(--space-24);
  text-align: center;
  cursor: pointer;
  transition: all var(--duration-normal) var(--ease-standard);
  box-shadow: var(--shadow-sm);
  position: relative;
  overflow: hidden;
}

.tool-card:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-lg);
  border-color: var(--color-primary);
}

.tool-card:active {
  transform: translateY(0);
}

.tool-icon {
  font-size: 48px;
  margin-bottom: var(--space-16);
  display: block;
}

.tool-card h3 {
  margin-bottom: var(--space-8);
  color: var(--color-text);
  font-size: var(--font-size-xl);
}

.tool-card p {
  color: var(--color-text-secondary);
  font-size: var(--font-size-sm);
  margin: 0;
  line-height: 1.4;
}

/* Modal styles */
.modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  opacity: 1;
  visibility: visible;
  transition: all var(--duration-normal) var(--ease-standard);
}

.modal.hidden {
  opacity: 0;
  visibility: hidden;
}

.modal-content {
  background: var(--color-surface);
  border-radius: var(--radius-lg);
  max-width: 90vw;
  max-height: 90vh;
  width: 600px;
  box-shadow: var(--shadow-lg);
  display: flex;
  flex-direction: column;
  border: 1px solid var(--color-card-border);
  transform: scale(1);
  transition: transform var(--duration-normal) var(--ease-standard);
}

.modal.hidden .modal-content {
  transform: scale(0.95);
}

.modal-header {
  padding: var(--space-20);
  border-bottom: 1px solid var(--color-card-border-inner);
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.modal-header h2 {
  margin: 0;
  color: var(--color-text);
  font-size: var(--font-size-2xl);
}

.modal-close {
  font-size: var(--font-size-2xl);
  line-height: 1;
  padding: var(--space-8);
  min-width: auto;
  border-radius: var(--radius-base);
}

.modal-body {
  padding: var(--space-20);
  flex: 1;
  overflow-y: auto;
}

/* File upload area */
.file-upload-area {
  border: 2px dashed var(--color-border);
  border-radius: var(--radius-lg);
  padding: var(--space-32);
  text-align: center;
  margin-bottom: var(--space-20);
  transition: all var(--duration-normal) var(--ease-standard);
  background: var(--color-bg-2);
  position: relative;
}

.file-upload-area:hover,
.file-upload-area.dragover {
  border-color: var(--color-primary);
  background: var(--color-bg-3);
}

.file-upload-content p {
  margin: var(--space-16) 0;
  color: var(--color-text-secondary);
}

.file-upload-icon {
  font-size: 48px;
  margin-bottom: var(--space-16);
}

.file-input {
  position: absolute;
  opacity: 0;
  width: 100%;
  height: 100%;
  cursor: pointer;
  top: 0;
  left: 0;
}

/* File list */
.file-list {
  margin-bottom: var(--space-20);
}

.file-item {
  background: var(--color-bg-4);
  border: 1px solid var(--color-card-border);
  border-radius: var(--radius-base);
  padding: var(--space-12);
  margin-bottom: var(--space-8);
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.file-info {
  display: flex;
  align-items: center;
  gap: var(--space-12);
}

.file-icon {
  font-size: var(--font-size-xl);
}

.file-details h4 {
  margin: 0;
  font-size: var(--font-size-sm);
  color: var(--color-text);
}

.file-details p {
  margin: 0;
  font-size: var(--font-size-xs);
  color: var(--color-text-secondary);
}

.file-remove {
  background: var(--color-error);
  color: var(--color-surface);
  border: none;
  border-radius: var(--radius-sm);
  padding: var(--space-4) var(--space-8);
  font-size: var(--font-size-xs);
  cursor: pointer;
}

/* Tool options */
.tool-options {
  margin-bottom: var(--space-20);
}

.option-group {
  margin-bottom: var(--space-16);
}

.option-group label {
  display: block;
  margin-bottom: var(--space-6);
  font-weight: var(--font-weight-medium);
  color: var(--color-text);
  font-size: var(--font-size-sm);
}

.option-group select,
.option-group input {
  width: 100%;
}

/* Tool actions */
.tool-actions {
  display: flex;
  gap: var(--space-12);
  justify-content: flex-end;
  margin-top: var(--space-20);
  padding-top: var(--space-20);
  border-top: 1px solid var(--color-card-border-inner);
}

/* Progress bar */
.progress-bar {
  width: 100%;
  height: 12px;
  background: var(--color-secondary);
  border-radius: var(--radius-base);
  overflow: hidden;
  margin-bottom: var(--space-16);
}

.progress-fill {
  height: 100%;
  background: var(--color-primary);
  border-radius: var(--radius-base);
  transition: width var(--duration-normal) var(--ease-standard);
  width: 0%;
}

/* QR Code display */
.qr-display {
  text-align: center;
  padding: var(--space-20);
}

.qr-display canvas {
  border: 1px solid var(--color-border);
  border-radius: var(--radius-base);
  margin: var(--space-16) 0;
}

/* Scanner area */
.scanner-area {
  position: relative;
  width: 100%;
  max-width: 400px;
  margin: 0 auto;
}

.scanner-area video {
  width: 100%;
  border-radius: var(--radius-base);
  border: 2px solid var(--color-border);
}

.scanner-overlay {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 200px;
  height: 200px;
  border: 2px solid var(--color-primary);
  border-radius: var(--radius-base);
  box-shadow: 0 0 0 9999px rgba(0, 0, 0, 0.3);
}

/* Results area */
.results-area {
  margin-top: var(--space-20);
  padding: var(--space-16);
  background: var(--color-bg-5);
  border-radius: var(--radius-base);
  border: 1px solid var(--color-card-border);
}

.results-area h4 {
  margin: 0 0 var(--space-12) 0;
  color: var(--color-text);
}

.result-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--space-12);
  background: var(--color-surface);
  border: 1px solid var(--color-card-border);
  border-radius: var(--radius-base);
  margin-bottom: var(--space-8);
}

.result-info h5 {
  margin: 0;
  font-size: var(--font-size-sm);
  color: var(--color-text);
}

.result-info p {
  margin: 0;
  font-size: var(--font-size-xs);
  color: var(--color-text-secondary);
}

/* Text areas */
.text-input {
  width: 100%;
  min-height: 200px;
  resize: vertical;
  font-family: var(--font-family-base);
  margin-bottom: var(--space-16);
}

.text-output {
  width: 100%;
  min-height: 150px;
  background: var(--color-bg-6);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-base);
  padding: var(--space-12);
  font-family: var(--font-family-mono);
  font-size: var(--font-size-sm);
  color: var(--color-text);
  white-space: pre-wrap;
  overflow-y: auto;
}

/* Status messages */
.status-message {
  padding: var(--space-12);
  border-radius: var(--radius-base);
  margin-bottom: var(--space-16);
  font-size: var(--font-size-sm);
  display: flex;
  align-items: center;
  gap: var(--space-8);
}

.status-message.success {
  background: rgba(var(--color-success-rgb), 0.1);
  border: 1px solid rgba(var(--color-success-rgb), 0.3);
  color: var(--color-success);
}

.status-message.error {
  background: rgba(var(--color-error-rgb), 0.1);
  border: 1px solid rgba(var(--color-error-rgb), 0.3);
  color: var(--color-error);
}

.status-message.warning {
  background: rgba(var(--color-warning-rgb), 0.1);
  border: 1px solid rgba(var(--color-warning-rgb), 0.3);
  color: var(--color-warning);
}

/* Footer */
.footer {
  background: var(--color-bg-7);
  border-top: 1px solid var(--color-border);
  padding: var(--space-24) 0;
  text-align: center;
  margin-top: var(--space-32);
}

.footer p {
  margin: 0;
  color: var(--color-text-secondary);
  font-size: var(--font-size-sm);
}

/* Responsive design */
@media (max-width: 768px) {
  .tools-grid {
    grid-template-columns: 1fr;
    gap: var(--space-16);
  }

  .modal-content {
    width: 95vw;
    margin: var(--space-16);
  }

  .tool-actions {
    flex-direction: column;
  }

  .header {
    padding: var(--space-20) 0;
  }

  .header h1 {
    font-size: var(--font-size-3xl);
  }
}

@media (max-width: 480px) {
  .modal-body {
    padding: var(--space-16);
  }

  .modal-header {
    padding: var(--space-16);
  }

  .file-upload-area {
    padding: var(--space-20);
  }

  .tool-card {
    padding: var(--space-16);
  }
}
    </style>
    
    <!-- External Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcode/1.5.3/qrcode.min.js"></script>
    <script src="https://unpkg.com/html5-qrcode@2.3.8/html5-qrcode.min.js"></script>
    <script src="https://unpkg.com/tesseract.js@4.1.1/dist/tesseract.min.js"></script>
    <script src="https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
</head>
<body>
    <header class="header">
        <div class="container">
            <h2>Universal File Converter</h2>
            <p>Professional toolkit for all your file conversion needs - 100% client-side processing</p>
        </div>
    </header>

    <main class="main">
        <div class="container">
            <div class="tools-grid">
                <!-- PDF Tools -->
                <div class="tool-card" data-tool="pdf-to-text">
                    <div class="tool-icon">üìÑ</div>
                    <h3>PDF to Text</h3>
                    <p>Extract text content from PDF files</p>
                </div>

                <div class="tool-card" data-tool="text-to-pdf">
                    <div class="tool-icon">üìù</div>
                    <h3>Text to PDF</h3>
                    <p>Convert text documents to PDF format</p>
                </div>

                <div class="tool-card" data-tool="pdf-to-jpg">
                    <div class="tool-icon">üñºÔ∏è</div>
                    <h3>PDF to JPG</h3>
                    <p>Convert PDF pages to JPG images</p>
                </div>

                <div class="tool-card" data-tool="jpg-to-pdf">
                    <div class="tool-icon">üì∑</div>
                    <h3>JPG to PDF</h3>
                    <p>Convert images to PDF documents</p>
                </div>

                <div class="tool-card" data-tool="merge-pdf">
                    <div class="tool-icon">üîó</div>
                    <h3>Merge PDF</h3>
                    <p>Combine multiple PDF files into one</p>
                </div>

                <div class="tool-card" data-tool="pdf-to-excel">
                    <div class="tool-icon">üìä</div>
                    <h3>PDF to Excel</h3>
                    <p>Extract tables from PDF to CSV format</p>
                </div>

                <!-- Image Tools -->
                <div class="tool-card" data-tool="image-to-pdf">
                    <div class="tool-icon">üñºÔ∏è</div>
                    <h3>Image to PDF</h3>
                    <p>Convert any image format to PDF</p>
                </div>

                <div class="tool-card" data-tool="invert-image">
                    <div class="tool-icon">üîÑ</div>
                    <h3>Invert Image</h3>
                    <p>Invert colors of your images</p>
                </div>

                <div class="tool-card" data-tool="text-to-image">
                    <div class="tool-icon">üé®</div>
                    <h3>Text to Image</h3>
                    <p>Generate images from text content</p>
                </div>

                <div class="tool-card" data-tool="image-translator">
                    <div class="tool-icon">üåê</div>
                    <h3>Image OCR</h3>
                    <p>Extract text from images using OCR</p>
                </div>

                <!-- QR Code & Barcode Tools -->
                <div class="tool-card" data-tool="qr-generator">
                    <div class="tool-icon">üì±</div>
                    <h3>QR Code Generator</h3>
                    <p>Create QR codes from text or URLs</p>
                </div>

                <div class="tool-card" data-tool="qr-scanner">
                    <div class="tool-icon">üì∑</div>
                    <h3>QR Code Scanner</h3>
                    <p>Scan QR codes using your camera</p>
                </div>

                <!-- Document Tools -->
                <div class="tool-card" data-tool="text-to-word">
                    <div class="tool-icon">üìÑ</div>
                    <h3>Text to Word</h3>
                    <p>Create Word-style documents from text</p>
                </div>

                <div class="tool-card" data-tool="create-csv">
                    <div class="tool-icon">üìã</div>
                    <h3>CSV Creator</h3>
                    <p>Create and download CSV files</p>
                </div>

                <div class="tool-card" data-tool="file-info">
                    <div class="tool-icon">‚ÑπÔ∏è</div>
                    <h3>File Info</h3>
                    <p>Get detailed information about files</p>
                </div>

                <div class="tool-card" data-tool="batch-converter">
                    <div class="tool-icon">‚ö°</div>
                    <h3>Batch Converter</h3>
                    <p>Process multiple files at once</p>
                </div>
            </div>
        </div>
    </main>

    <!-- Modal Container -->
    <div class="modal hidden" id="toolModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">Tool</h2>
                <button class="btn btn--secondary modal-close">&times;</button>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- Tool-specific content will be inserted here -->
            </div>
        </div>
    </div>

    <!-- Progress Modal -->
    <div class="modal hidden" id="progressModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Processing...</h2>
            </div>
            <div class="modal-body">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <p id="progressText">Processing your file...</p>
            </div>
        </div>
    </div>

    <!-- File Upload Template -->
    <template id="fileUploadTemplate">
        <div class="file-upload-area" id="fileUpload">
            <div class="file-upload-content">
                <div class="file-upload-icon">üìÅ</div>
                <p>Drag and drop files here or click to select</p>
                <input type="file" id="fileInput" class="file-input" />
                <button class="btn btn--primary" onclick="document.getElementById('fileInput').click()">Select Files</button>
            </div>
        </div>
        <div class="file-list" id="fileList"></div>
        <div class="tool-options" id="toolOptions"></div>
        <div class="tool-actions">
            <button class="btn btn--primary" id="processBtn" disabled>Process Files</button>
            <button class="btn btn--secondary modal-close">Cancel</button>
        </div>
    </template>



    <script>
        // Global variables
let currentTool = null;
let uploadedFiles = [];
let processedResults = [];

// Initialize the application
document.addEventListener('DOMContentLoaded', function() {
    initializeApp();
});

function initializeApp() {
    // Set up PDF.js worker
    if (typeof pdfjsLib !== 'undefined') {
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
    }

    // Add event listeners for tool cards
    const toolCards = document.querySelectorAll('.tool-card');
    toolCards.forEach(card => {
        card.addEventListener('click', function() {
            const toolType = this.getAttribute('data-tool');
            openTool(toolType);
        });
    });

    // Add modal close functionality
    const modalCloses = document.querySelectorAll('.modal-close');
    modalCloses.forEach(close => {
        close.addEventListener('click', closeModal);
    });

    // Close modal when clicking outside
    document.addEventListener('click', function(e) {
        if (e.target.classList.contains('modal')) {
            closeModal();
        }
    });
}

// Modal functions
function openTool(toolType) {
    currentTool = toolType;
    const modal = document.getElementById('toolModal');
    const modalTitle = document.getElementById('modalTitle');
    const modalBody = document.getElementById('modalBody');

    // Clear previous content
    modalBody.innerHTML = '';
    uploadedFiles = [];
    processedResults = [];

    // Set title and content based on tool type
    const toolConfig = getToolConfig(toolType);
    modalTitle.textContent = toolConfig.title;

    // Create tool interface
    createToolInterface(toolType, modalBody);

    // Show modal
    modal.classList.remove('hidden');
}

function closeModal() {
    const modals = document.querySelectorAll('.modal');
    modals.forEach(modal => {
        modal.classList.add('hidden');
    });
    currentTool = null;
    uploadedFiles = [];
    processedResults = [];
}

function getToolConfig(toolType) {
    const configs = {
        'pdf-to-text': { title: 'PDF to Text Converter', accepts: '.pdf' },
        'text-to-pdf': { title: 'Text to PDF Converter', accepts: '.txt' },
        'pdf-to-jpg': { title: 'PDF to JPG Converter', accepts: '.pdf' },
        'jpg-to-pdf': { title: 'JPG to PDF Converter', accepts: '.jpg,.jpeg,.png,.gif,.bmp' },
        'merge-pdf': { title: 'PDF Merger', accepts: '.pdf' },
        'pdf-to-excel': { title: 'PDF to Excel Converter', accepts: '.pdf' },
        'image-to-pdf': { title: 'Image to PDF Converter', accepts: '.jpg,.jpeg,.png,.gif,.bmp' },
        'invert-image': { title: 'Image Color Inverter', accepts: '.jpg,.jpeg,.png,.gif,.bmp' },
        'text-to-image': { title: 'Text to Image Generator', accepts: null },
        'image-translator': { title: 'Image OCR Text Extractor', accepts: '.jpg,.jpeg,.png,.gif,.bmp' },
        'qr-generator': { title: 'QR Code Generator', accepts: null },
        'qr-scanner': { title: 'QR Code Scanner', accepts: null },
        'text-to-word': { title: 'Text to Word Converter', accepts: '.txt' },
        'create-csv': { title: 'CSV Creator', accepts: null },
        'file-info': { title: 'File Information Analyzer', accepts: '*' },
        'batch-converter': { title: 'Batch File Converter', accepts: '*' }
    };
    return configs[toolType] || { title: 'Unknown Tool', accepts: '*' };
}

function createToolInterface(toolType, container) {
    const template = document.getElementById('fileUploadTemplate');
    const toolConfig = getToolConfig(toolType);

    if (['qr-generator', 'text-to-image', 'create-csv', 'qr-scanner'].includes(toolType)) {
        createSpecialInterface(toolType, container);
        return;
    }

    // Clone the template
    const clone = template.content.cloneNode(true);

    // Configure file input
    const fileInput = clone.querySelector('#fileInput');
    if (toolConfig.accepts && toolConfig.accepts !== '*') {
        fileInput.setAttribute('accept', toolConfig.accepts);
    }

    if (['merge-pdf', 'batch-converter'].includes(toolType)) {
        fileInput.setAttribute('multiple', 'true');
    }

    // Set up event listeners
    const fileUpload = clone.querySelector('#fileUpload');
    const fileList = clone.querySelector('#fileList');
    const processBtn = clone.querySelector('#processBtn');

    setupFileUpload(fileUpload, fileInput, fileList, processBtn);

    processBtn.addEventListener('click', function() {
        processFiles(toolType);
    });

    container.appendChild(clone);
}

function createSpecialInterface(toolType, container) {
    switch (toolType) {
        case 'qr-generator':
            createQRGeneratorInterface(container);
            break;
        case 'qr-scanner':
            createQRScannerInterface(container);
            break;
        case 'text-to-image':
            createTextToImageInterface(container);
            break;
        case 'create-csv':
            createCSVInterface(container);
            break;
    }
}

function createQRGeneratorInterface(container) {
    container.innerHTML = `
        <div class="form-group">
            <label for="qrText" class="form-label">Text or URL to encode:</label>
            <textarea id="qrText" class="form-control" rows="4" placeholder="Enter text or URL here..."></textarea>
        </div>
        <div class="option-group">
            <label for="qrSize" class="form-label">QR Code Size:</label>
            <select id="qrSize" class="form-control">
                <option value="200">200x200</option>
                <option value="300" selected>300x300</option>
                <option value="400">400x400</option>
                <option value="500">500x500</option>
            </select>
        </div>
        <div class="tool-actions">
            <button class="btn btn--primary" onclick="generateQRCode()">Generate QR Code</button>
            <button class="btn btn--secondary modal-close">Cancel</button>
        </div>
        <div class="qr-display" id="qrDisplay" style="display: none;">
            <h4>Generated QR Code:</h4>
            <canvas id="qrCanvas"></canvas>
            <div class="tool-actions">
                <button class="btn btn--primary" onclick="downloadQRCode()">Download QR Code</button>
            </div>
        </div>
    `;
}

function createQRScannerInterface(container) {
    container.innerHTML = `
        <div class="scanner-area">
            <div id="qr-reader" style="width: 100%; height: 400px; border-radius: 8px; overflow: hidden;"></div>
        </div>
        <div class="tool-actions">
            <button class="btn btn--primary" id="startScan">Start Scanner</button>
            <button class="btn btn--secondary" id="stopScan" style="display: none;">Stop Scanner</button>
            <button class="btn btn--secondary modal-close">Cancel</button>
        </div>
        <div class="results-area" id="scanResults" style="display: none;">
            <h4>Scan Results:</h4>
            <div class="text-output" id="scanOutput"></div>
        </div>
    `;

    setupQRScanner();
}

function createTextToImageInterface(container) {
    container.innerHTML = `
        <div class="form-group">
            <label for="imageText" class="form-label">Text to convert to image:</label>
            <textarea id="imageText" class="form-control text-input" placeholder="Enter your text here..."></textarea>
        </div>
        <div class="option-group">
            <label for="fontSize" class="form-label">Font Size:</label>
            <select id="fontSize" class="form-control">
                <option value="16">16px</option>
                <option value="20">20px</option>
                <option value="24" selected>24px</option>
                <option value="32">32px</option>
                <option value="40">40px</option>
            </select>
        </div>
        <div class="option-group">
            <label for="bgColor" class="form-label">Background Color:</label>
            <input type="color" id="bgColor" class="form-control" value="#ffffff">
        </div>
        <div class="option-group">
            <label for="textColor" class="form-label">Text Color:</label>
            <input type="color" id="textColor" class="form-control" value="#000000">
        </div>
        <div class="tool-actions">
            <button class="btn btn--primary" onclick="generateTextImage()">Generate Image</button>
            <button class="btn btn--secondary modal-close">Cancel</button>
        </div>
        <div class="results-area" id="imageResults" style="display: none;">
            <h4>Generated Image:</h4>
            <canvas id="textCanvas" style="border: 1px solid #ccc; border-radius: 8px;"></canvas>
            <div class="tool-actions">
                <button class="btn btn--primary" onclick="downloadTextImage()">Download Image</button>
            </div>
        </div>
    `;
}

function createCSVInterface(container) {
    container.innerHTML = `
        <div class="form-group">
            <label for="csvRows" class="form-label">Number of rows:</label>
            <input type="number" id="csvRows" class="form-control" value="3" min="1" max="100">
        </div>
        <div class="form-group">
            <label for="csvCols" class="form-label">Number of columns:</label>
            <input type="number" id="csvCols" class="form-control" value="3" min="1" max="20">
        </div>
        <div class="tool-actions">
            <button class="btn btn--primary" onclick="createCSVTable()">Create Table</button>
            <button class="btn btn--secondary modal-close">Cancel</button>
        </div>
        <div id="csvTableContainer" style="display: none;">
            <h4>Edit your CSV data:</h4>
            <div id="csvTable"></div>
            <div class="tool-actions">
                <button class="btn btn--primary" onclick="downloadCSV()">Download CSV</button>
                <button class="btn btn--secondary" onclick="createCSVTable()">Recreate Table</button>
            </div>
        </div>
    `;
}

function setupFileUpload(fileUpload, fileInput, fileList, processBtn) {
    // Drag and drop functionality
    fileUpload.addEventListener('dragover', function(e) {
        e.preventDefault();
        this.classList.add('dragover');
    });

    fileUpload.addEventListener('dragleave', function() {
        this.classList.remove('dragover');
    });

    fileUpload.addEventListener('drop', function(e) {
        e.preventDefault();
        this.classList.remove('dragover');
        const files = Array.from(e.dataTransfer.files);
        handleFiles(files, fileList, processBtn);
    });

    // File input change
    fileInput.addEventListener('change', function() {
        const files = Array.from(this.files);
        handleFiles(files, fileList, processBtn);
    });
}

function handleFiles(files, fileList, processBtn) {
    files.forEach(file => {
        if (!uploadedFiles.find(f => f.name === file.name && f.size === file.size)) {
            uploadedFiles.push(file);
        }
    });

    updateFileList(fileList);
    processBtn.disabled = uploadedFiles.length === 0;
}

function updateFileList(fileList) {
    fileList.innerHTML = '';

    uploadedFiles.forEach((file, index) => {
        const fileItem = document.createElement('div');
        fileItem.className = 'file-item';
        fileItem.innerHTML = `
            <div class="file-info">
                <div class="file-icon">${getFileIcon(file.type)}</div>
                <div class="file-details">
                    <h4>${file.name}</h4>
                    <p>${formatFileSize(file.size)} ‚Ä¢ ${file.type || 'Unknown type'}</p>
                </div>
            </div>
            <button class="file-remove" onclick="removeFile(${index})">Remove</button>
        `;
        fileList.appendChild(fileItem);
    });
}

function removeFile(index) {
    uploadedFiles.splice(index, 1);
    const fileList = document.querySelector('#fileList');
    const processBtn = document.querySelector('#processBtn');
    updateFileList(fileList);
    processBtn.disabled = uploadedFiles.length === 0;
}

function getFileIcon(mimeType) {
    if (mimeType.startsWith('image/')) return 'üñºÔ∏è';
    if (mimeType === 'application/pdf') return 'üìÑ';
    if (mimeType.startsWith('text/')) return 'üìù';
    if (mimeType.includes('word')) return 'üìÑ';
    if (mimeType.includes('excel') || mimeType.includes('spreadsheet')) return 'üìä';
    return 'üìÅ';
}

function formatFileSize(bytes) {
    if (bytes === 0) return '0 Bytes';
    const k = 1024;
    const sizes = ['Bytes', 'KB', 'MB', 'GB'];
    const i = Math.floor(Math.log(bytes) / Math.log(k));
    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
}

// Progress modal functions
function showProgress(text = 'Processing...') {
    const progressModal = document.getElementById('progressModal');
    const progressText = document.getElementById('progressText');
    const progressFill = document.getElementById('progressFill');

    progressText.textContent = text;
    progressFill.style.width = '0%';
    progressModal.classList.remove('hidden');
}

function updateProgress(percent, text) {
    const progressText = document.getElementById('progressText');
    const progressFill = document.getElementById('progressFill');

    progressFill.style.width = percent + '%';
    if (text) progressText.textContent = text;
}

function hideProgress() {
    const progressModal = document.getElementById('progressModal');
    progressModal.classList.add('hidden');
}

// File processing functions
async function processFiles(toolType) {
    if (uploadedFiles.length === 0) return;

    showProgress(`Processing files with ${getToolConfig(toolType).title}...`);

    try {
        switch (toolType) {
            case 'pdf-to-text':
                await processPDFToText();
                break;
            case 'text-to-pdf':
                await processTextToPDF();
                break;
            case 'pdf-to-jpg':
                await processPDFToJPG();
                break;
            case 'jpg-to-pdf':
                await processJPGToPDF();
                break;
            case 'merge-pdf':
                await processMergePDF();
                break;
            case 'pdf-to-excel':
                await processPDFToExcel();
                break;
            case 'image-to-pdf':
                await processImageToPDF();
                break;
            case 'invert-image':
                await processInvertImage();
                break;
            case 'image-translator':
                await processImageOCR();
                break;
            case 'text-to-word':
                await processTextToWord();
                break;
            case 'file-info':
                await processFileInfo();
                break;
            case 'batch-converter':
                await processBatchConverter();
                break;
            default:
                throw new Error('Unknown tool type');
        }

        updateProgress(100, 'Processing complete!');
        setTimeout(() => {
            hideProgress();
            showResults();
        }, 1000);

    } catch (error) {
        console.error('Processing error:', error);
        hideProgress();
        showError('Processing failed: ' + error.message);
    }
}

// PDF to Text conversion
async function processPDFToText() {
    for (let i = 0; i < uploadedFiles.length; i++) {
        const file = uploadedFiles[i];
        updateProgress((i / uploadedFiles.length) * 100, `Processing ${file.name}...`);

        const arrayBuffer = await file.arrayBuffer();
        const pdf = await pdfjsLib.getDocument({ data: arrayBuffer }).promise;
        let fullText = '';

        for (let pageNum = 1; pageNum <= pdf.numPages; pageNum++) {
            const page = await pdf.getPage(pageNum);
            const textContent = await page.getTextContent();
            const pageText = textContent.items.map(item => item.str).join(' ');
            fullText += `Page ${pageNum}:\n${pageText}\n\n`;
        }

        processedResults.push({
            originalName: file.name,
            newName: file.name.replace('.pdf', '.txt'),
            data: fullText,
            type: 'text/plain'
        });
    }
}

// Text to PDF conversion
async function processTextToPDF() {
    const { jsPDF } = window.jspdf;

    for (let i = 0; i < uploadedFiles.length; i++) {
        const file = uploadedFiles[i];
        updateProgress((i / uploadedFiles.length) * 100, `Processing ${file.name}...`);

        const text = await file.text();
        const pdf = new jsPDF();

        const lines = pdf.splitTextToSize(text, 180);
        let y = 20;

        lines.forEach(line => {
            if (y > 280) {
                pdf.addPage();
                y = 20;
            }
            pdf.text(line, 20, y);
            y += 7;
        });

        const pdfBlob = pdf.output('blob');
        processedResults.push({
            originalName: file.name,
            newName: file.name.replace('.txt', '.pdf'),
            data: pdfBlob,
            type: 'application/pdf'
        });
    }
}

// PDF to JPG conversion
async function processPDFToJPG() {
    for (let i = 0; i < uploadedFiles.length; i++) {
        const file = uploadedFiles[i];
        updateProgress((i / uploadedFiles.length) * 100, `Processing ${file.name}...`);

        const arrayBuffer = await file.arrayBuffer();
        const pdf = await pdfjsLib.getDocument({ data: arrayBuffer }).promise;

        for (let pageNum = 1; pageNum <= pdf.numPages; pageNum++) {
            const page = await pdf.getPage(pageNum);
            const viewport = page.getViewport({ scale: 2.0 });

            const canvas = document.createElement('canvas');
            const context = canvas.getContext('2d');
            canvas.height = viewport.height;
            canvas.width = viewport.width;

            await page.render({ canvasContext: context, viewport: viewport }).promise;

            canvas.toBlob(blob => {
                processedResults.push({
                    originalName: file.name,
                    newName: `${file.name.replace('.pdf', '')}_page_${pageNum}.jpg`,
                    data: blob,
                    type: 'image/jpeg'
                });
            }, 'image/jpeg', 0.95);
        }
    }
}

// JPG to PDF conversion
async function processJPGToPDF() {
    const { jsPDF } = window.jspdf;
    const pdf = new jsPDF();
    let pageAdded = false;

    for (let i = 0; i < uploadedFiles.length; i++) {
        const file = uploadedFiles[i];
        updateProgress((i / uploadedFiles.length) * 100, `Processing ${file.name}...`);

        const img = new Image();
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');

        await new Promise((resolve) => {
            img.onload = () => {
                if (pageAdded) pdf.addPage();

                const imgWidth = 190;
                const imgHeight = (img.height * imgWidth) / img.width;

                pdf.addImage(img, 'JPEG', 10, 10, imgWidth, imgHeight);
                pageAdded = true;
                resolve();
            };
            img.src = URL.createObjectURL(file);
        });
    }

    if (pageAdded) {
        const pdfBlob = pdf.output('blob');
        processedResults.push({
            originalName: 'merged_images.pdf',
            newName: 'merged_images.pdf',
            data: pdfBlob,
            type: 'application/pdf'
        });
    }
}

// Additional processing functions for other tools...
async function processInvertImage() {
    for (let i = 0; i < uploadedFiles.length; i++) {
        const file = uploadedFiles[i];
        updateProgress((i / uploadedFiles.length) * 100, `Processing ${file.name}...`);

        const img = new Image();
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');

        await new Promise((resolve) => {
            img.onload = () => {
                canvas.width = img.width;
                canvas.height = img.height;
                ctx.drawImage(img, 0, 0);

                const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
                const data = imageData.data;

                for (let i = 0; i < data.length; i += 4) {
                    data[i] = 255 - data[i];     // Red
                    data[i + 1] = 255 - data[i + 1]; // Green
                    data[i + 2] = 255 - data[i + 2]; // Blue
                }

                ctx.putImageData(imageData, 0, 0);

                canvas.toBlob(blob => {
                    processedResults.push({
                        originalName: file.name,
                        newName: `inverted_${file.name}`,
                        data: blob,
                        type: file.type
                    });
                    resolve();
                });
            };
            img.src = URL.createObjectURL(file);
        });
    }
}

async function processImageOCR() {
    for (let i = 0; i < uploadedFiles.length; i++) {
        const file = uploadedFiles[i];
        updateProgress((i / uploadedFiles.length) * 100, `Processing ${file.name} with OCR...`);

        try {
            const result = await Tesseract.recognize(file, 'eng', {
                logger: m => {
                    if (m.status === 'recognizing text') {
                        updateProgress(((i + m.progress) / uploadedFiles.length) * 100, `OCR processing ${file.name}... ${Math.round(m.progress * 100)}%`);
                    }
                }
            });

            processedResults.push({
                originalName: file.name,
                newName: file.name.replace(/\.[^/.]+$/, '.txt'),
                data: result.data.text,
                type: 'text/plain'
            });
        } catch (error) {
            console.error('OCR error:', error);
            processedResults.push({
                originalName: file.name,
                newName: file.name.replace(/\.[^/.]+$/, '_error.txt'),
                data: `OCR processing failed: ${error.message}`,
                type: 'text/plain'
            });
        }
    }
}

// QR Code functions
function generateQRCode() {
    const text = document.getElementById('qrText').value.trim();
    const size = parseInt(document.getElementById('qrSize').value);
    const canvas = document.getElementById('qrCanvas');
    const display = document.getElementById('qrDisplay');

    if (!text) {
        showError('Please enter text or URL to encode');
        return;
    }

    QRCode.toCanvas(canvas, text, {
        width: size,
        height: size,
        margin: 2
    }, function (error) {
        if (error) {
            showError('QR code generation failed: ' + error.message);
        } else {
            display.style.display = 'block';
        }
    });
}

function downloadQRCode() {
    const canvas = document.getElementById('qrCanvas');
    const link = document.createElement('a');
    link.download = 'qrcode.png';
    link.href = canvas.toDataURL();
    link.click();
}

function setupQRScanner() {
    const startBtn = document.getElementById('startScan');
    const stopBtn = document.getElementById('stopScan');
    const results = document.getElementById('scanResults');
    const output = document.getElementById('scanOutput');

    let html5QrCode = null;

    startBtn.addEventListener('click', async function() {
        try {
            html5QrCode = new Html5Qrcode("qr-reader");

            await html5QrCode.start(
                { facingMode: "environment" },
                {
                    fps: 10,
                    qrbox: { width: 250, height: 250 }
                },
                (decodedText, decodedResult) => {
                    output.textContent = decodedText;
                    results.style.display = 'block';
                },
                (errorMessage) => {
                    // Handle scan errors silently
                }
            );

            startBtn.style.display = 'none';
            stopBtn.style.display = 'inline-block';
        } catch (error) {
            showError('Camera access failed: ' + error.message);
        }
    });

    stopBtn.addEventListener('click', function() {
        if (html5QrCode) {
            html5QrCode.stop().then(() => {
                startBtn.style.display = 'inline-block';
                stopBtn.style.display = 'none';
            });
        }
    });
}

// Text to Image function
function generateTextImage() {
    const text = document.getElementById('imageText').value.trim();
    const fontSize = parseInt(document.getElementById('fontSize').value);
    const bgColor = document.getElementById('bgColor').value;
    const textColor = document.getElementById('textColor').value;
    const canvas = document.getElementById('textCanvas');
    const ctx = canvas.getContext('2d');
    const results = document.getElementById('imageResults');

    if (!text) {
        showError('Please enter text to convert to image');
        return;
    }

    ctx.font = `${fontSize}px Arial`;
    const lines = text.split('\n');
    const lineHeight = fontSize * 1.2;
    const padding = 20;

    let maxWidth = 0;
    lines.forEach(line => {
        const width = ctx.measureText(line).width;
        if (width > maxWidth) maxWidth = width;
    });

    canvas.width = maxWidth + (padding * 2);
    canvas.height = (lines.length * lineHeight) + (padding * 2);

    // Set styles again after canvas resize
    ctx.font = `${fontSize}px Arial`;
    ctx.fillStyle = bgColor;
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    ctx.fillStyle = textColor;
    ctx.textBaseline = 'top';

    lines.forEach((line, index) => {
        ctx.fillText(line, padding, padding + (index * lineHeight));
    });

    results.style.display = 'block';
}

function downloadTextImage() {
    const canvas = document.getElementById('textCanvas');
    const link = document.createElement('a');
    link.download = 'text-image.png';
    link.href = canvas.toDataURL();
    link.click();
}

// CSV functions
function createCSVTable() {
    const rows = parseInt(document.getElementById('csvRows').value);
    const cols = parseInt(document.getElementById('csvCols').value);
    const container = document.getElementById('csvTableContainer');
    const table = document.getElementById('csvTable');

    let tableHTML = '<table style="width: 100%; border-collapse: collapse;">';

    for (let r = 0; r < rows; r++) {
        tableHTML += '<tr>';
        for (let c = 0; c < cols; c++) {
            tableHTML += `<td style="border: 1px solid #ccc; padding: 8px;">
                <input type="text" style="width: 100%; border: none; padding: 4px;"
                       placeholder="Cell ${r + 1},${c + 1}" id="cell_${r}_${c}">
            </td>`;
        }
        tableHTML += '</tr>';
    }
    tableHTML += '</table>';

    table.innerHTML = tableHTML;
    container.style.display = 'block';
}

function downloadCSV() {
    const rows = parseInt(document.getElementById('csvRows').value);
    const cols = parseInt(document.getElementById('csvCols').value);
    let csvContent = '';

    for (let r = 0; r < rows; r++) {
        let rowData = [];
        for (let c = 0; c < cols; c++) {
            const cell = document.getElementById(`cell_${r}_${c}`);
            let value = cell ? cell.value : '';
            // Escape quotes and wrap in quotes if contains comma
            if (value.includes(',') || value.includes('"')) {
                value = '"' + value.replace(/"/g, '""') + '"';
            }
            rowData.push(value);
        }
        csvContent += rowData.join(',') + '\n';
    }

    const blob = new Blob([csvContent], { type: 'text/csv' });
    const link = document.createElement('a');
    link.download = 'data.csv';
    link.href = URL.createObjectURL(blob);
    link.click();
}

// Utility functions
function showResults() {
    if (processedResults.length === 0) {
        showError('No results to display');
        return;
    }

    const modalBody = document.getElementById('modalBody');

    let resultsHTML = '<div class="results-area"><h4>Processing Complete!</h4>';

    processedResults.forEach((result, index) => {
        resultsHTML += `
            <div class="result-item">
                <div class="result-info">
                    <h5>${result.newName}</h5>
                    <p>Converted from: ${result.originalName}</p>
                </div>
                <button class="btn btn--primary btn--sm" onclick="downloadResult(${index})">Download</button>
            </div>
        `;
    });

    resultsHTML += '</div>';
    modalBody.innerHTML = resultsHTML;
}

function downloadResult(index) {
    const result = processedResults[index];
    const blob = result.data instanceof Blob ? result.data : new Blob([result.data], { type: result.type });

    const link = document.createElement('a');
    link.download = result.newName;
    link.href = URL.createObjectURL(blob);
    link.click();
}

function showError(message) {
    const modalBody = document.getElementById('modalBody');
    const errorDiv = document.createElement('div');
    errorDiv.className = 'status-message error';
    errorDiv.innerHTML = `‚ùå ${message}`;
    modalBody.insertBefore(errorDiv, modalBody.firstChild);

    setTimeout(() => {
        if (errorDiv.parentNode) {
            errorDiv.parentNode.removeChild(errorDiv);
        }
    }, 5000);
}

// Additional simplified implementations for remaining tools
async function processMergePDF() {
    if (uploadedFiles.length < 2) {
        throw new Error('Please select at least 2 PDF files to merge');
    }

    const mergedPdf = await PDFLib.PDFDocument.create();

    for (let i = 0; i < uploadedFiles.length; i++) {
        const file = uploadedFiles[i];
        updateProgress((i / uploadedFiles.length) * 100, `Merging ${file.name}...`);

        const arrayBuffer = await file.arrayBuffer();
        const pdf = await PDFLib.PDFDocument.load(arrayBuffer);
        const pages = await mergedPdf.copyPages(pdf, pdf.getPageIndices());

        pages.forEach((page) => mergedPdf.addPage(page));
    }

    const pdfBytes = await mergedPdf.save();
    const blob = new Blob([pdfBytes], { type: 'application/pdf' });

    processedResults.push({
        originalName: 'Multiple PDFs',
        newName: 'merged_document.pdf',
        data: blob,
        type: 'application/pdf'
    });
}

async function processPDFToExcel() {
    // Simplified implementation - extract text as CSV
    await processPDFToText();

    // Convert the text results to CSV format
    processedResults.forEach(result => {
        if (typeof result.data === 'string') {
            // Simple text to CSV conversion - split by lines and tabs/spaces
            const lines = result.data.split('\n').filter(line => line.trim());
            let csvData = '';

            lines.forEach(line => {
                // Split by multiple spaces or tabs and join with commas
                const cols = line.split(/\s{2,}|\t/).map(col => col.trim()).filter(col => col);
                if (cols.length > 1) {
                    csvData += cols.join(',') + '\n';
                }
            });

            result.data = csvData || result.data;
            result.newName = result.originalName.replace('.pdf', '.csv');
            result.type = 'text/csv';
        }
    });
}

async function processImageToPDF() {
    await processJPGToPDF(); // Reuse the same logic
}

async function processTextToWord() {
    // Create a simple HTML document that can be saved as .doc
    for (let i = 0; i < uploadedFiles.length; i++) {
        const file = uploadedFiles[i];
        const text = await file.text();

        const htmlContent = `
            <html>
            <head><title>${file.name}</title></head>
            <body style="font-family: Arial, sans-serif; padding: 20px;">
                <pre style="white-space: pre-wrap; word-wrap: break-word;">${text}</pre>
            </body>
            </html>
        `;

        const blob = new Blob([htmlContent], { type: 'application/msword' });
        processedResults.push({
            originalName: file.name,
            newName: file.name.replace('.txt', '.doc'),
            data: blob,
            type: 'application/msword'
        });
    }
}

async function processFileInfo() {
    uploadedFiles.forEach(file => {
        const info = `File Information:
Name: ${file.name}
Size: ${formatFileSize(file.size)}
Type: ${file.type || 'Unknown'}
Last Modified: ${new Date(file.lastModified).toLocaleString()}
        `;

        processedResults.push({
            originalName: file.name,
            newName: `${file.name}_info.txt`,
            data: info,
            type: 'text/plain'
        });
    });
}

async function processBatchConverter() {
    // Simple batch processing - convert all images to PDF
    const imageFiles = uploadedFiles.filter(file => file.type.startsWith('image/'));
    const textFiles = uploadedFiles.filter(file => file.type.startsWith('text/'));

    if (imageFiles.length > 0) {
        uploadedFiles = imageFiles;
        await processJPGToPDF();
    }

    if (textFiles.length > 0) {
        uploadedFiles = textFiles;
        await processTextToPDF();
    }
}
    </script>
</body>
</html>